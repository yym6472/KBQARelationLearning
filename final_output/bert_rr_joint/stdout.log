2021-04-21 18:57:11 - INFO - Training arguments:
{
    "seed": 4,
    "task": "kbqa_name_expanded",
    "model_name_or_path": "./bert-base-uncased/",
    "continue_training_path": null,
    "model_save_path": "./output/bert_newdata_bertrl_mix_seed4",
    "force_del": true,
    "tensorboard_log_dir": null,
    "data_path": "./data/webqsp_name_expanded",
    "train_filename": "train.json",
    "dev_filename": "dev.json",
    "test_filename": "test.json",
    "use_apex_amp": true,
    "apex_amp_opt_level": "O1",
    "dropout": 0.2,
    "threshold": null,
    "entity_start_token": null,
    "entity_end_token": null,
    "head_entity_start_token": "[start of head entity]",
    "head_entity_end_token": "[end of head entity]",
    "tail_entity_start_token": "[start of tail entity]",
    "tail_entity_end_token": "[end of tail entity]",
    "unknown_entity_token": "[unknown entity]",
    "separate_token": "[path separator]",
    "annotate_self_token": null,
    "use_aggregate": false,
    "use_prompt": false,
    "mix_webred_data": false,
    "mix_webred_matching_data": false,
    "mix_bertrl_data": true,
    "batch_size": 128,
    "num_epochs": 3,
    "learning_rate": 2e-05,
    "evaluation_steps": 1000,
    "max_seq_length": 128,
    "gradient_clip": 1.0,
    "patience": null,
    "metric": "f1"
}
2021-04-21 18:57:11 - INFO - Run experiments with random seed: 4
2021-04-21 18:57:11 - INFO - Saved training command to file: ./output/bert_newdata_bertrl_mix_seed4/command.txt
2021-04-21 18:57:11 - INFO - Saved training arguments to file: ./output/bert_newdata_bertrl_mix_seed4/args.json
2021-04-21 18:57:35 - INFO - Reading train split from ./data/webqsp_name_expanded/train.json, number of samples: 2848
2021-04-21 18:57:58 - INFO - Reading dev split from ./data/webqsp_name_expanded/dev.json, number of samples: 250
2021-04-21 18:58:15 - INFO - Reading test split from ./data/webqsp_name_expanded/test.json, number of samples: 1639
2021-04-21 18:58:36 - INFO - Start training, number of epochs: 3
2021-04-21 18:58:36 - INFO - Training start for epoch 0
2021-04-21 18:58:36 - INFO - Total number of batches: 16353
2021-04-21 19:09:08 - INFO - Evaluating on dev dataset at step 999 in epoch 0 (global step: 1000)...
2021-04-21 19:15:02 - INFO - Results: f1 = 0.268304 (threshold = 0.150000), hits@1 = 0.403226
2021-04-21 19:15:02 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 19:25:39 - INFO - Evaluating on dev dataset at step 1999 in epoch 0 (global step: 2000)...
2021-04-21 19:31:33 - INFO - Results: f1 = 0.360861 (threshold = 0.180000), hits@1 = 0.463710
2021-04-21 19:31:33 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 19:44:14 - INFO - Evaluating on dev dataset at step 2999 in epoch 0 (global step: 3000)...
2021-04-21 19:50:09 - INFO - Results: f1 = 0.420683 (threshold = 0.065000), hits@1 = 0.528226
2021-04-21 19:50:09 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 20:03:58 - INFO - Evaluating on dev dataset at step 3999 in epoch 0 (global step: 4000)...
2021-04-21 20:09:52 - INFO - Results: f1 = 0.434662 (threshold = 0.058000), hits@1 = 0.596774
2021-04-21 20:09:52 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 20:23:01 - INFO - Evaluating on dev dataset at step 4999 in epoch 0 (global step: 5000)...
2021-04-21 20:28:55 - INFO - Results: f1 = 0.472138 (threshold = 0.061000), hits@1 = 0.616935
2021-04-21 20:28:55 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 20:41:45 - INFO - Evaluating on dev dataset at step 5999 in epoch 0 (global step: 6000)...
2021-04-21 20:47:40 - INFO - Results: f1 = 0.450500 (threshold = 0.126000), hits@1 = 0.608871
2021-04-21 20:58:10 - INFO - Evaluating on dev dataset at step 6999 in epoch 0 (global step: 7000)...
2021-04-21 21:04:04 - INFO - Results: f1 = 0.476602 (threshold = 0.054000), hits@1 = 0.629032
2021-04-21 21:04:04 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 21:17:51 - INFO - Evaluating on dev dataset at step 7999 in epoch 0 (global step: 8000)...
2021-04-21 21:23:45 - INFO - Results: f1 = 0.512007 (threshold = 0.287000), hits@1 = 0.681452
2021-04-21 21:23:45 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 21:36:50 - INFO - Evaluating on dev dataset at step 8999 in epoch 0 (global step: 9000)...
2021-04-21 21:42:44 - INFO - Results: f1 = 0.530127 (threshold = 0.140000), hits@1 = 0.637097
2021-04-21 21:42:44 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 21:56:15 - INFO - Evaluating on dev dataset at step 9999 in epoch 0 (global step: 10000)...
2021-04-21 22:02:09 - INFO - Results: f1 = 0.546359 (threshold = 0.174000), hits@1 = 0.657258
2021-04-21 22:02:09 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 22:15:56 - INFO - Evaluating on dev dataset at step 10999 in epoch 0 (global step: 11000)...
2021-04-21 22:21:50 - INFO - Results: f1 = 0.550412 (threshold = 0.015000), hits@1 = 0.657258
2021-04-21 22:21:50 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 22:35:52 - INFO - Evaluating on dev dataset at step 11999 in epoch 0 (global step: 12000)...
2021-04-21 22:41:46 - INFO - Results: f1 = 0.565683 (threshold = 0.398000), hits@1 = 0.661290
2021-04-21 22:41:46 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-21 22:55:57 - INFO - Evaluating on dev dataset at step 12999 in epoch 0 (global step: 13000)...
2021-04-21 23:01:53 - INFO - Results: f1 = 0.563518 (threshold = 0.084000), hits@1 = 0.673387
2021-04-21 23:12:22 - INFO - Evaluating on dev dataset at step 13999 in epoch 0 (global step: 14000)...
2021-04-21 23:18:18 - INFO - Results: f1 = 0.556888 (threshold = 0.209000), hits@1 = 0.693548
2021-04-21 23:28:49 - INFO - Evaluating on dev dataset at step 14999 in epoch 0 (global step: 15000)...
2021-04-21 23:34:44 - INFO - Results: f1 = 0.560594 (threshold = 0.035000), hits@1 = 0.653226
2021-04-21 23:45:13 - INFO - Evaluating on dev dataset at step 15999 in epoch 0 (global step: 16000)...
2021-04-21 23:51:07 - INFO - Results: f1 = 0.556694 (threshold = 0.179000), hits@1 = 0.689516
2021-04-21 23:54:50 - INFO - Evaluating on dev dataset at step 16352 in epoch 0 (global step: 16353)...
2021-04-22 00:00:45 - INFO - Results: f1 = 0.564927 (threshold = 0.320000), hits@1 = 0.701613
2021-04-22 00:00:45 - INFO - Training start for epoch 1
2021-04-22 00:00:45 - INFO - Total number of batches: 16353
2021-04-22 00:11:14 - INFO - Evaluating on dev dataset at step 999 in epoch 1 (global step: 17353)...
2021-04-22 00:17:08 - INFO - Results: f1 = 0.551411 (threshold = 0.123000), hits@1 = 0.665323
2021-04-22 00:27:38 - INFO - Evaluating on dev dataset at step 1999 in epoch 1 (global step: 18353)...
2021-04-22 00:33:31 - INFO - Results: f1 = 0.573817 (threshold = 0.058000), hits@1 = 0.649194
2021-04-22 00:33:31 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-22 00:46:43 - INFO - Evaluating on dev dataset at step 2999 in epoch 1 (global step: 19353)...
2021-04-22 00:52:38 - INFO - Results: f1 = 0.577280 (threshold = 0.159000), hits@1 = 0.677419
2021-04-22 00:52:38 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-22 01:06:25 - INFO - Evaluating on dev dataset at step 3999 in epoch 1 (global step: 20353)...
2021-04-22 01:12:30 - INFO - Results: f1 = 0.567519 (threshold = 0.165000), hits@1 = 0.673387
2021-04-22 01:23:04 - INFO - Evaluating on dev dataset at step 4999 in epoch 1 (global step: 21353)...
2021-04-22 01:29:01 - INFO - Results: f1 = 0.573539 (threshold = 0.108000), hits@1 = 0.681452
2021-04-22 01:39:33 - INFO - Evaluating on dev dataset at step 5999 in epoch 1 (global step: 22353)...
2021-04-22 01:45:30 - INFO - Results: f1 = 0.563591 (threshold = 0.134000), hits@1 = 0.669355
2021-04-22 01:56:00 - INFO - Evaluating on dev dataset at step 6999 in epoch 1 (global step: 23353)...
2021-04-22 02:01:56 - INFO - Results: f1 = 0.597560 (threshold = 0.081000), hits@1 = 0.701613
2021-04-22 02:01:56 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-22 02:15:30 - INFO - Evaluating on dev dataset at step 7999 in epoch 1 (global step: 24353)...
2021-04-22 02:21:28 - INFO - Results: f1 = 0.568393 (threshold = 0.190000), hits@1 = 0.685484
2021-04-22 02:31:59 - INFO - Evaluating on dev dataset at step 8999 in epoch 1 (global step: 25353)...
2021-04-22 02:37:54 - INFO - Results: f1 = 0.562656 (threshold = 0.251000), hits@1 = 0.665323
2021-04-22 02:48:25 - INFO - Evaluating on dev dataset at step 9999 in epoch 1 (global step: 26353)...
2021-04-22 02:54:20 - INFO - Results: f1 = 0.576414 (threshold = 0.363000), hits@1 = 0.685484
2021-04-22 03:04:52 - INFO - Evaluating on dev dataset at step 10999 in epoch 1 (global step: 27353)...
2021-04-22 03:10:48 - INFO - Results: f1 = 0.581657 (threshold = 0.037000), hits@1 = 0.689516
2021-04-22 03:21:20 - INFO - Evaluating on dev dataset at step 11999 in epoch 1 (global step: 28353)...
2021-04-22 03:27:15 - INFO - Results: f1 = 0.575868 (threshold = 0.146000), hits@1 = 0.681452
2021-04-22 03:37:45 - INFO - Evaluating on dev dataset at step 12999 in epoch 1 (global step: 29353)...
2021-04-22 03:43:40 - INFO - Results: f1 = 0.605721 (threshold = 0.051000), hits@1 = 0.685484
2021-04-22 03:43:40 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-22 03:57:33 - INFO - Evaluating on dev dataset at step 13999 in epoch 1 (global step: 30353)...
2021-04-22 04:03:29 - INFO - Results: f1 = 0.610167 (threshold = 0.241000), hits@1 = 0.705645
2021-04-22 04:03:29 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-22 04:16:45 - INFO - Evaluating on dev dataset at step 14999 in epoch 1 (global step: 31353)...
2021-04-22 04:22:47 - INFO - Results: f1 = 0.580344 (threshold = 0.110000), hits@1 = 0.705645
2021-04-22 04:33:29 - INFO - Evaluating on dev dataset at step 15999 in epoch 1 (global step: 32353)...
2021-04-22 04:39:30 - INFO - Results: f1 = 0.591606 (threshold = 0.204000), hits@1 = 0.665323
2021-04-22 04:43:16 - INFO - Evaluating on dev dataset at step 16352 in epoch 1 (global step: 32706)...
2021-04-22 04:49:19 - INFO - Results: f1 = 0.583745 (threshold = 0.339000), hits@1 = 0.677419
2021-04-22 04:49:19 - INFO - Training start for epoch 2
2021-04-22 04:49:19 - INFO - Total number of batches: 16353
2021-04-22 04:59:54 - INFO - Evaluating on dev dataset at step 999 in epoch 2 (global step: 33706)...
2021-04-22 05:05:53 - INFO - Results: f1 = 0.579295 (threshold = 0.045000), hits@1 = 0.649194
2021-04-22 05:16:26 - INFO - Evaluating on dev dataset at step 1999 in epoch 2 (global step: 34706)...
2021-04-22 05:22:23 - INFO - Results: f1 = 0.572723 (threshold = 0.031000), hits@1 = 0.661290
2021-04-22 05:32:57 - INFO - Evaluating on dev dataset at step 2999 in epoch 2 (global step: 35706)...
2021-04-22 05:38:53 - INFO - Results: f1 = 0.612082 (threshold = 0.211000), hits@1 = 0.677419
2021-04-22 05:38:53 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-22 05:52:52 - INFO - Evaluating on dev dataset at step 3999 in epoch 2 (global step: 36706)...
2021-04-22 05:58:47 - INFO - Results: f1 = 0.594828 (threshold = 0.133000), hits@1 = 0.673387
2021-04-22 06:09:16 - INFO - Evaluating on dev dataset at step 4999 in epoch 2 (global step: 37706)...
2021-04-22 06:15:14 - INFO - Results: f1 = 0.597873 (threshold = 0.053000), hits@1 = 0.665323
2021-04-22 06:25:54 - INFO - Evaluating on dev dataset at step 5999 in epoch 2 (global step: 38706)...
2021-04-22 06:31:53 - INFO - Results: f1 = 0.578688 (threshold = 0.167000), hits@1 = 0.685484
2021-04-22 06:42:28 - INFO - Evaluating on dev dataset at step 6999 in epoch 2 (global step: 39706)...
2021-04-22 06:48:22 - INFO - Results: f1 = 0.607729 (threshold = 0.219000), hits@1 = 0.665323
2021-04-22 06:58:50 - INFO - Evaluating on dev dataset at step 7999 in epoch 2 (global step: 40706)...
2021-04-22 07:04:45 - INFO - Results: f1 = 0.609997 (threshold = 0.201000), hits@1 = 0.693548
2021-04-22 07:15:21 - INFO - Evaluating on dev dataset at step 8999 in epoch 2 (global step: 41706)...
2021-04-22 07:21:20 - INFO - Results: f1 = 0.587183 (threshold = 0.296000), hits@1 = 0.681452
2021-04-22 07:31:55 - INFO - Evaluating on dev dataset at step 9999 in epoch 2 (global step: 42706)...
2021-04-22 07:37:54 - INFO - Results: f1 = 0.596448 (threshold = 0.109000), hits@1 = 0.689516
2021-04-22 07:48:30 - INFO - Evaluating on dev dataset at step 10999 in epoch 2 (global step: 43706)...
2021-04-22 07:54:29 - INFO - Results: f1 = 0.612430 (threshold = 0.072000), hits@1 = 0.673387
2021-04-22 07:54:29 - INFO - Best performance achieved, save model to ./output/bert_newdata_bertrl_mix_seed4/pytorch_model.bin
2021-04-22 08:07:00 - INFO - Evaluating on dev dataset at step 11999 in epoch 2 (global step: 44706)...
2021-04-22 08:12:57 - INFO - Results: f1 = 0.596727 (threshold = 0.323000), hits@1 = 0.665323
2021-04-22 08:23:32 - INFO - Evaluating on dev dataset at step 12999 in epoch 2 (global step: 45706)...
2021-04-22 08:29:29 - INFO - Results: f1 = 0.597108 (threshold = 0.097000), hits@1 = 0.673387
2021-04-22 08:39:59 - INFO - Evaluating on dev dataset at step 13999 in epoch 2 (global step: 46706)...
2021-04-22 08:45:50 - INFO - Results: f1 = 0.603335 (threshold = 0.050000), hits@1 = 0.681452
2021-04-22 08:56:21 - INFO - Evaluating on dev dataset at step 14999 in epoch 2 (global step: 47706)...
2021-04-22 09:02:20 - INFO - Results: f1 = 0.606835 (threshold = 0.076000), hits@1 = 0.685484
2021-04-22 09:12:56 - INFO - Evaluating on dev dataset at step 15999 in epoch 2 (global step: 48706)...
2021-04-22 09:18:49 - INFO - Results: f1 = 0.588853 (threshold = 0.135000), hits@1 = 0.685484
2021-04-22 09:22:31 - INFO - Evaluating on dev dataset at step 16352 in epoch 2 (global step: 49059)...
2021-04-22 09:28:25 - INFO - Results: f1 = 0.599643 (threshold = 0.136000), hits@1 = 0.701613
2021-04-22 09:28:25 - INFO - Evaluation on test dataset...
2021-04-22 09:59:48 - INFO - Results: f1 = 0.629142 (threshold = 0.072000), hits@1 = 0.712362
